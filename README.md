# Guestbook - MyBatis Version

## 1. 프로젝트 개요

본 프로젝트는 Spring Boot 기반 MVC 패턴 학습을 목적으로 제작된
게시판/영화 게시판 예제 애플리케이션입니다.

기존에 JPA + QueryDSL로 구현된 프로젝트를, 실무 환경과 동일한 기술
스택에 맞추어 MyBatis 기반 구조로 마이그레이션하였습니다.

### 마이그레이션 배경

-   현업에서는 JPA 및 모던 ORM 프레임워크를 사용하지 않음
-   실무 기술 스택과 동일한 환경에서 MVC 패턴을 더 명확히 이해하고자 함
-   러닝 커브를 낮추고, SQL 중심 구조에 대한 이해도를 높이기 위해
    MyBatis 선택

이 프로젝트는 단순 CRUD 구현이 목적이 아니라,

-   MVC 계층 분리
-   요청-응답 흐름 이해
-   서비스 레이어 책임 분리
-   Mapper 기반 데이터 접근 구조 이해

에 초점을 둡니다.

------------------------------------------------------------------------

## 2. 기술 스택

-   Java 17
-   Spring Boot
-   MyBatis
-   Thymeleaf
-   Gradle
-   PostgreSQL

------------------------------------------------------------------------

## 3. 프로젝트 구조 (MVC 기반)

    controller
     └─ 요청 처리 및 View 반환

    service
     └─ 비즈니스 로직 처리
     └─ 트랜잭션 경계 설정

    mapper
     └─ MyBatis Mapper 인터페이스
     └─ XML 기반 SQL 정의

    domain
     └─ Entity/VO 객체

    dto
     └─ 요청/응답 객체 분리

### 계층별 역할

  계층         책임
  ------------ --------------------------------------------
  Controller   HTTP 요청 수신, 파라미터 바인딩, View 반환
  Service      비즈니스 로직 처리, 트랜잭션 관리
  Mapper       SQL 실행
  Domain       데이터 모델 표현
  View         Thymeleaf 기반 화면 구성

------------------------------------------------------------------------

## 4. 주요 기능

### 4.1 게시판 기능

#### 게시글

-   게시글 목록 조회 (검색 포함)
-   게시글 등록
-   게시글 조회
-   게시글 수정
-   게시글 삭제

#### 댓글

-   댓글 등록
-   댓글 조회
-   댓글 수정
-   댓글 삭제

------------------------------------------------------------------------

### 4.2 영화 게시판 기능

#### 영화

-   영화 목록 조회 (검색 포함)
-   영화 등록
    -   스틸컷 이미지 업로드
    -   썸네일 이미지 업로드
-   영화 상세 조회

#### 리뷰

-   리뷰 등록
-   리뷰 조회
-   리뷰 수정
-   리뷰 삭제

------------------------------------------------------------------------

## 5. 학습 포인트

### 1. JPA → MyBatis 구조 차이 이해

  JPA               MyBatis
  ----------------- ------------------
  엔티티 중심       SQL 중심
  JPQL/QueryDSL     XML 기반 SQL
  영속성 컨텍스트   명시적 쿼리 실행

-   ORM 추상화 제거 후 SQL 직접 제어
-   동적 쿼리 구성 (`<if>`, `<where>`, `<trim>`) 활용
-   페이징 및 검색 조건 처리 방식 차이 이해

------------------------------------------------------------------------

### 2. MVC 흐름 체득

1.  Controller에서 요청 수신
2.  Service에서 비즈니스 로직 수행
3.  Mapper에서 DB 접근
4.  결과를 View에 전달

요청 → Controller → Service → Mapper → DB → View

------------------------------------------------------------------------

### 3. 파일 업로드 처리

-   MultipartFile 기반 이미지 업로드
-   영화 등록 시:
    -   썸네일 이미지
    -   스틸컷 이미지 다중 업로드
-   파일 경로 DB 저장 및 화면 렌더링 처리

------------------------------------------------------------------------

## 6. 실행 방법

``` bash
git clone https://github.com/jwo29/guestbook-mybatis.git
cd guestbook-mybatis
./gradlew bootRun
```

브라우저 접속:

    http://localhost:8080

------------------------------------------------------------------------

## 7. 개선 예정 사항

-   페이징 고도화
-   예외 처리 공통화 (Global Exception Handler)
-   공통 응답 구조 설계
-   테스트 코드 추가
-   트랜잭션 경계 명확화
-   JPA 버전과 구조 비교 문서화

------------------------------------------------------------------------

## 8. 프로젝트 의의

이 프로젝트는 단순 CRUD 예제가 아니라,

-   MVC 패턴의 구조적 이해
-   ORM과 SQL 중심 설계의 차이 비교
-   실무 친화적 기술 스택 기반 학습

을 목적으로 한 학습형 마이그레이션 프로젝트입니다.
